Active Directory Lab setup:
This is the process used to configure and setup the base lab I have been using. 

Source Material: 
https://www.udemy.com/course/active-directory-group-policy-2012/
This is the base course I have been using to set up the lab and configure things.
https://securitytutorials.co.uk/creating-an-active-directory-home-lab/ 
This resource gave me the base instructions for creating the base lab. I used this as a supplement to the  creation in the udemy course. 
I felt like the base lab creation was lacking and I found this as an alternative for lab creation, and learning to join a client to the domain. 
https://www.pfsense.org/download/ 
This resource contained the ISO used to create a VM for pfSense. 
https://ubuntu.com/download/desktop 
This is the download for Ubuntu that I used to image my physical server. 
https://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-2016 
This is the source for the datacenter evaluation edition for windows server 2016. 
https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/
This is the source for the image I am using for my client PC’s in the virtual network. 

Naming conventions
domain.local – this is the name of the domain for the AD lab. 
domainctl-## - this is the naming convention for domain controllers.
client### - this is the naming convention for client PC’s on the domain network.

Devices created
domainctl-01 – This is the domain Contoller for the AD Lab. 
client001 – This is my first client device. 
client002 – this is my second client device. 

Baremetal server image process:
1. Imaged my Dell Optiplex 7010 with Ubuntu 20.04 (LTS with desktop). I used default setting to image this and did not do anything fancy with partitions.

Install of Virtual Box process:
2. Installed Oracle Virtualbox on the server
	A. Command to install from the bash shell: sudo apt install virtualbox virtualbox-ext-pack

pfSense VM creation process:
1. I created a VM to run pfSense
	A. Was created with a bridged adapter, 512 MB RAM and 10GB VDI HDD. 

Domain Controller Creation and configuration process:
1. I created a VM running windows 2016 server evaluation edition.
	A. In Virtual box, configured the network setting to use the internal network that the pfSense Router is using. 
	B. Once configured it is possible to verify that the desktop is routing its traffic through the pfSense router using a tracert command (such as tracert 8.8.8.8)
2. With this created created a snapshot at this place in order to be able to restore to here if needed.
3. Installed Domain Controller, DNS Server and DHCP Server to this VM.
	A.  In the Server Manager of the Windows VM, added these roles by going to Manage > add roles and features. 
	B. In the Select Server Roles screen checked  Active Directory Domain Services box.
	C. On the next screen confirmed that DNS Server features would be installed as well.
	D. Once installed promoted the server to Domain Controller.
		a. added a new forrest that named it domain.local
	E. Set the NetBIOS name to be “DOMAIN”
	F. Left the databas log files and SYSVOL files at their default values. 
	G. Saved the powershell script generated by this process to the desktop of the domain controller. 
4. Configuration of the domain controller to act as the DHCP server.
	A. On the Server Manager, opened the DHCP options. Created a new scope under ipv4
	B. Sset an IP range and have it recorded in non-public facing notes. 
	C. Set a subnet and recorded it in non-public facing notes.

	D. Left the lease duration at the default 8 days.
	E. Left the Domain Name and DNS Servers with their default settings.
	F. Activated the scope.

Creation of a client PCs Process
1. downloaded client pc image from microsoft developer page listed in the links section above.
2. Extracted the OVA file into virtualbox.

Join the client PC’s to the domain Process
1. started my client PC
2. Start > Settings > About > Advanced Settings > Computer Name.
	A. Selected the “change” option.
3. Named the computer to the client### naming convention.
4. Joined the computer to the domain ‘domain.local’
	A. enter in administrator credentials for the domain controller in order to complete the domain creation. 
	B. Restarted the PC. 
5. To verify this completed, once client is joined to the Domain the PC will be present in the default location for computers in Active Directory 
Users and computers. Alternatively this can also be verified by logging into the computer using a domain user if one is already created. 
	
